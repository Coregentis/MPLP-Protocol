---
type: "always_apply"
description: "MPLP v1.0 Core Development Rules - Consolidated"
---

# MPLP v1.0 Development Rules

## üèóÔ∏è **Project Reality**

**MPLP v1.0**: Multi-Agent Protocol Lifecycle Platform (L1-L3 Protocol Stack)
- **Project Name**: MPLP - Multi-Agent Protocol Lifecycle Platform
- **Implementation Scope**: L1-L3 layered architecture (Protocol Layer, Coordination Layer, Execution Layer)
- **10 Complete Modules**: Context, Plan, Confirm, Trace, Role, Extension, Collab, Dialog, Network, Core
- **Current Status**: 6 modules completed (Plan, Context, Confirm, Trace, Role, Extension), 4 modules pending (Collab, Dialog, Network, Core)
- **Quality Achievement**:
  - Role module reached enterprise-grade standard (75.31% coverage, 333 tests)
  - Trace module achieved 100% test pass rate (107/107 tests)
  - **Extension module achieved Multi-Agent Protocol Platform standard** (54 functional tests 100% pass rate, 8 MPLP module reserved interfaces, 10 CoreOrchestrator coordination scenarios)
- **Progress**: 60% completion (6/10 modules) with Multi-Agent Protocol Platform quality standards

## üéØ **Core Principles (MANDATORY)**

### 0. MPLP v1.0 Architecture Positioning (HIGHEST PRIORITY)
```markdown
RULE: MPLP v1.0 is "Intelligent Agent Construction Framework Protocol"

‚úÖ Correct Positioning:
- MPLP v1.0 = Framework for building intelligent agents, NOT agents themselves
- L1-L3 Protocol Stack: Provides standardized infrastructure for agent construction
- Protocol Layer: Defines interfaces and standards, NOT implementations
- Coordination Layer: Enables agent collaboration and composition
- Execution Layer: Supports agent orchestration and workflow management

‚ùå Incorrect Positioning:
- MPLP v1.0 = Intelligent agents with AI brains
- Implementing AI decision algorithms in protocol layer
- Including machine learning models in protocol definitions
- Binding to specific AI technology stacks

ENFORCEMENT: Any violation of this positioning will be rejected
```

### 0.1. AI Function Architecture Boundary (CRITICAL)
```markdown
RULE: AI decisions and learning systems belong to L4 Agent layer

‚úÖ L1-L3 Protocol Layer Responsibilities:
- Provide standardized AI system integration interfaces
- Define AI service request/response formats
- Support pluggable integration of multiple AI providers
- Maintain vendor neutrality and universality

‚ùå L1-L3 Protocol Layer Prohibitions:
- Implement specific AI decision algorithms
- Include machine learning models and training logic
- Bind to specific AI technology stacks
- Implement industry-specific intelligent functions

‚úÖ L4 Agent Layer Responsibilities:
- Implement specific AI decision and learning logic
- Choose most suitable AI technology stacks
- Implement domain-specific intelligent functions
- Provide personalized AI capabilities

ENFORCEMENT: Code violating this boundary will be rejected
```

### 1. Absolute Honesty
- Report all problems truthfully; never hide technical debt
- Accurately reflect completion status and test results
- Document actual state vs claimed state (learned from 2025-08-09 documentation audit)

### 2. Technical Correctness + Zero Technical Debt
- **ABSOLUTE PROHIBITION**: Never use `any` type (ZERO TOLERANCE)
- TypeScript: 0 errors, ESLint: 0 errors/warnings (MANDATORY)
- All quality gates must pass before commit
- **Proven Standard**: 6 modules already achieved zero technical debt

### 3. MPLP Dual Naming Convention (CRITICAL)
- **Schema**: snake_case, **TypeScript**: camelCase
- Mandatory Schema-TypeScript mapping functions
- 100% mapping consistency validation required
- **Validation**: All 124 field mappings across 9 modules verified correct

### 4. Quality First
- Code quality > development speed
- Follow established standards; ensure maintainability
- **Enterprise Standards**: Role module achieved 75.31% coverage with enterprise-grade RBAC
- **Perfect Quality**: Trace module achieved 100% test pass rate (107/107 tests)

## üîß **Technical Standards**

### Schema-Driven Development
- All protocols follow JSON Schema standards
- Schema: snake_case ‚Üí TypeScript: camelCase
- Mandatory mapping functions with 100% consistency

### TypeScript Strict Mode
```typescript
// tsconfig.json - Required settings
{
  "strict": true,
  "noImplicitAny": true,
  "strictNullChecks": true,
  "noImplicitReturns": true
}
```

### Testing Strategy
- **4-Layer System**: Functional (90%+) + Unit (90%+) + Integration + E2E
- Test coverage > 90%, all tests must pass
- Fix source code when tests reveal issues
- **Proven Results**: 6 modules achieved 100% test pass rates
- **Enterprise Standard**: Role module 75.31% coverage, Trace module 100% pass rate
- **Multi-Agent Protocol Platform Standard**: Extension module 54 functional tests 100% pass rate, 8 MPLP module integrations

### Development Workflow
- **Information First**: Use codebase-retrieval before coding
- **Vendor Neutral**: Adapter pattern for external dependencies
- **Quality Gates**: All checks must pass before commit
- **Systematic Approach**: Use critical thinking methodology for complex problems

## üö´ **Absolutely Prohibited**

```markdown
‚ùå NEVER:
- Use 'any' type (ZERO TOLERANCE)
- Skip Schema validation or quality checks
- Modify tests to fit wrong implementations
- Ignore TypeScript/ESLint errors
- Hide technical debt or problems
- Mix snake_case/camelCase in same layer
- Implement AI decision algorithms in L1-L3 protocol layer
- Include machine learning models in protocol definitions
- Bind protocols to specific AI technology stacks
- Confuse protocol modules with individual agents
- Implement industry-specific AI logic in protocol layer
```

## ‚úÖ **Mandatory Quality Gates**

```bash
# Required before any commit
npm run typecheck        # Must pass: 0 errors
npm run lint             # Must pass: 0 errors/warnings
npm run test             # Must pass: 100%
npm run validate:mapping # Must pass: 100% consistency
npm run check:naming     # Must pass: 100% compliance
```

## üéØ **Execution Standards**

### Pre-Development
1. Use codebase-retrieval to understand existing code
2. Confirm Schema definitions and mapping requirements
3. Plan testing strategy and validation methods

### During Development
1. Run type checking and tests continuously
2. Fix problems immediately, don't bypass
3. Follow DDD architecture patterns
4. Maintain dual naming convention

### Post-Completion
1. Execute complete quality gate process
2. Verify all functionality works correctly
3. Update documentation and examples
4. Perform end-to-end validation

---

**ENFORCEMENT**: These rules are **mandatory**. Violations result in code rejection.

**VERSION**: 3.0.0
**EFFECTIVE**: August 13, 2025
**UPDATED**: Added AI function architecture boundary principles, MPLP v1.0 positioning clarification, protocol-agent relationship definition